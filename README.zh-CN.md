# PikPak ä¸ªäººäº‘ç›˜ç®¡ç†å·¥å…· v4.0 ğŸš€

ä¸€ä¸ªç”¨Goè¯­è¨€ç¼–å†™çš„PikPakä¸ªäººäº‘ç›˜ç®¡ç†å·¥å…·ï¼Œæä¾›å®Œæ•´çš„å‘½ä»¤è¡Œç•Œé¢æ¥ç®¡ç†æ‚¨çš„PikPakäº‘ç›˜æ–‡ä»¶ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ ä¸ªäººäº‘ç›˜ç®¡ç†
- **æ–‡ä»¶åˆ—è¡¨** - æµè§ˆå’ŒæŸ¥çœ‹ä¸ªäººäº‘ç›˜ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
- **é…é¢æŸ¥çœ‹** - å®æ—¶æŸ¥çœ‹äº‘ç›˜å®¹é‡ä½¿ç”¨æƒ…å†µ
- **æ–‡ä»¶ä¸‹è½½** - ä¸‹è½½ä¸ªäººäº‘ç›˜ä¸­çš„ä»»æ„æ–‡ä»¶æˆ–æ•´ä¸ªæ–‡ä»¶å¤¹
- **æ™ºèƒ½åˆ†ç±»** - è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼ˆè§†é¢‘ã€å›¾ç‰‡ã€æ–‡æ¡£ç­‰ï¼‰

### ğŸ”§ æŠ€æœ¯ä¼˜åŠ¿
- **Goè¯­è¨€å¼€å‘** - é«˜æ€§èƒ½ï¼Œä½èµ„æºå ç”¨
- **å‘½ä»¤è¡Œç•Œé¢** - ç®€æ´æ˜“ç”¨çš„CLIå·¥å…·
- **ç¯å¢ƒå˜é‡é…ç½®** - å®‰å…¨çš„é…ç½®ç®¡ç†æ–¹æ¡ˆ
- **å¹¶å‘ä¸‹è½½** - æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘ä¸‹è½½
- **è¿›åº¦æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
make deps
```

### 2. é…ç½®è®¤è¯ä¿¡æ¯

åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„PikPakè®¤è¯ä¿¡æ¯ï¼š
```bash
# æ–¹å¼1: ä½¿ç”¨è´¦å·å¯†ç 
PIKPAK_USERNAME=[ä½ çš„é‚®ç®±åœ°å€]
PIKPAK_PASSWORD=[ä½ çš„å¯†ç ]

# æ–¹å¼2: ä½¿ç”¨RefreshToken (æ¨è)
PIKPAK_REFRESH_TOKEN=[ä½ çš„refresh_token]
```

### 3. ç¼–è¯‘ç¨‹åº
```bash
make build-cli
```

### 4. å¼€å§‹ä½¿ç”¨
```bash
# æŸ¥çœ‹å¸®åŠ©
./pikpak-cli help

# æŸ¥çœ‹äº‘ç›˜é…é¢
./pikpak-cli quota

# åˆ—å‡ºæ ¹ç›®å½•æ–‡ä»¶
./pikpak-cli ls

# åˆ—å‡ºæŒ‡å®šç›®å½•
./pikpak-cli ls -path "/My Pack"

# è¯¦ç»†åˆ—è¡¨
./pikpak-cli ls -path "/My Pack" -l -h

# ä¸‹è½½æ–‡ä»¶
./pikpak-cli download -path "/My Pack/document.pdf"

# ä¸‹è½½æ•´ä¸ªæ–‡ä»¶å¤¹
./pikpak-cli download -path "/My Pack" -output "./downloads"
```

## ğŸ“‹ å‘½ä»¤è¯¦è§£

### `ls` - åˆ—å‡ºæ–‡ä»¶
```bash
./pikpak-cli ls [é€‰é¡¹]

é€‰é¡¹:
  -path string     ç›®å½•è·¯å¾„ (é»˜è®¤: "/")
  -l               é•¿æ ¼å¼æ˜¾ç¤º
  -h               äººç±»å¯è¯»æ ¼å¼

ç¤ºä¾‹:
  ./pikpak-cli ls                          # åˆ—å‡ºæ ¹ç›®å½•
  ./pikpak-cli ls -path "/My Pack"        # åˆ—å‡ºæŒ‡å®šç›®å½•
  ./pikpak-cli ls -l -h                     # è¯¦ç»†æ ¼å¼
```

### `quota` - æŸ¥çœ‹é…é¢
```bash
./pikpak-cli quota [é€‰é¡¹]

é€‰é¡¹:
  -h               äººç±»å¯è¯»æ ¼å¼ (é»˜è®¤: true)

ç¤ºä¾‹:
  ./pikpak-cli quota                       # æŸ¥çœ‹é…é¢ä¿¡æ¯
```

### `download` - ä¸‹è½½æ–‡ä»¶
```bash
./pikpak-cli download [é€‰é¡¹]

é€‰é¡¹:
  -path string     ä¸‹è½½è·¯å¾„ (é»˜è®¤: "/")
  -output string   è¾“å‡ºç›®å½• (é»˜è®¤: "./downloads")
  -count int       å¹¶å‘æ•° (é»˜è®¤: 3)
  -progress        æ˜¾ç¤ºè¿›åº¦ (é»˜è®¤: true)

ç¤ºä¾‹:
  ./pikpak-cli download -path "/My Pack/video.mp4"                    # ä¸‹è½½å•ä¸ªæ–‡ä»¶
  ./pikpak-cli download -path "/My Pack" -output "./my_downloads"   # ä¸‹è½½åˆ°æŒ‡å®šç›®å½•
  ./pikpak-cli download -path "/My Pack" -count 5                    # è®¾ç½®å¹¶å‘æ•°
```

## ğŸ› ï¸ å¼€å‘æ„å»º

### ç¼–è¯‘
```bash
make build-cli
```

### è¿è¡Œ
```bash
# ä½¿ç”¨Makefile
make run-cli ls
make run-cli quota
make run-cli download -path "/My Pack"

# ç›´æ¥è¿è¡Œ
./pikpak-cli ls
```

### æ¸…ç†
```bash
make clean
```

## ğŸ“Š åŠŸèƒ½æ¼”ç¤º

### æŸ¥çœ‹é…é¢ä¿¡æ¯
```bash
$ ./pikpak-cli quota
ğŸ“Š äº‘ç›˜é…é¢ä¿¡æ¯:
æ€»å®¹é‡: 6.0GB
å·²ä½¿ç”¨: 604.2MB
ä½¿ç”¨ç‡: 9.8%
```

### åˆ—å‡ºæ–‡ä»¶
```bash
$ ./pikpak-cli ls
æ–‡ä»¶å¤¹        My Pack
æ–‡ä»¶å¤¹        Pack From Shared

$ ./pikpak-cli ls -path "/Pack From Shared"
æ–‡ä»¶å¤¹        onlyfans chaeira 34V
```

### è¯¦ç»†åˆ—è¡¨
```bash
$ ./pikpak-cli ls -l -h
ç±»å‹        å¤§å°       ä¿®æ”¹æ—¶é—´            æ–‡ä»¶å
æ–‡ä»¶å¤¹      -          2025-01-02 15:04   My Pack
æ–‡ä»¶å¤¹      -          2025-01-01 10:30   Pack From Shared
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
pikpak-downloader/
â”œâ”€â”€ pikpak_cli.go           # CLIå‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ pikpak_client.go        # PikPakå®¢æˆ·ç«¯æ ¸å¿ƒåŠŸèƒ½
â”œâ”€â”€ config_manager.go       # é…ç½®ç®¡ç†
â”œâ”€â”€ .env                     # ç”¨æˆ·é…ç½®æ–‡ä»¶
â”œâ”€â”€ .env.example            # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”œâ”€â”€ pikpak-cli              # å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ Makefile                 # æ„å»ºè„šæœ¬
â”œâ”€â”€ go.mod                   # Goæ¨¡å—æ–‡ä»¶
â”œâ”€â”€ go.sum                   # ä¾èµ–æ ¡éªŒæ–‡ä»¶
â”œâ”€â”€ README.zh-CN.md          # ä¸­æ–‡é¡¹ç›®è¯´æ˜
â””â”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹ä¿¡æ¯ï¼š

```bash
# PikPak è´¦å·è®¤è¯
PIKPAK_USERNAME=[ä½ çš„é‚®ç®±åœ°å€]
PIKPAK_PASSWORD=[ä½ çš„å¯†ç ]

# æˆ–ä½¿ç”¨ RefreshToken (æ¨è)
PIKPAK_REFRESH_TOKEN=[ä½ çš„refresh_token]

# ä»£ç†è®¾ç½® (å¯é€‰)
# PIKPAK_PROXY=http://127.0.0.1:7890

# è®¾å¤‡è®¾ç½® (å¯é€‰)
PIKPAK_DEVICE_NAME=pikpak-downloader
```

### è·å– RefreshToken
1. ç™»å½• PikPakç½‘é¡µç‰ˆ
2. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. è¿›å…¥ `Application` â†’ `Local Storage`
4. æŸ¥æ‰¾ `refresh_token` å­—æ®µå¹¶å¤åˆ¶å…¶å€¼
5. å¡«å…¥ `.env` æ–‡ä»¶ä¸­çš„ `PIKPAK_REFRESH_TOKEN`

## ğŸ”„ ç‰ˆæœ¬å†å²

### v4.0.0 (2025-10-18) ğŸ¯
- âœ¨ **é‡æ–°è®¾è®¡é¡¹ç›®å®šä½** - ä¸“æ³¨äºä¸ªäººäº‘ç›˜ç®¡ç†
- ğŸ¯ **å¤åˆ» pikpakcli åŠŸèƒ½** - æ–‡ä»¶åˆ—è¡¨ã€é…é¢æŸ¥çœ‹ã€æ–‡ä»¶ä¸‹è½½
- ğŸ”§ **å®Œæ•´çš„CLIç•Œé¢** - å‚æ•°è§£æã€å¸®åŠ©ç³»ç»Ÿ
- ğŸ“‹ **æ™ºèƒ½æ–‡ä»¶åˆ†ç±»** - è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹
- âš™ï¸ **é…ç½®ç®¡ç†ä¼˜åŒ–** - ç¯å¢ƒå˜é‡é…ç½®æ–¹æ¡ˆ

### v3.1.0 (2025-10-18) ğŸŒŸ
- âœ¨ **.env é…ç½®æ”¯æŒ** - æ–°å¢ç¯å¢ƒå˜é‡é…ç½®æ–¹æ¡ˆï¼Œæ›´å®‰å…¨ä¾¿æ·
- ğŸ”„ **è‡ªåŠ¨é…ç½®ç”Ÿæˆ** - ç¨‹åºè‡ªåŠ¨è¯»å–.envå¹¶ç”Ÿæˆpikpakclié…ç½®æ–‡ä»¶
- ğŸ“‹ **é…ç½®çŠ¶æ€æ£€æŸ¥** - è¯¦ç»†çš„é…ç½®éªŒè¯å’ŒçŠ¶æ€æ˜¾ç¤º
- ğŸ”§ **é…ç½®ç®¡ç†å™¨** - æ–°å¢config_manager.goæ¨¡å—
- ğŸ¯ **é»˜è®¤CLIæ¨¡å¼** - æ··åˆå·¥å…·é»˜è®¤ä½¿ç”¨CLIæ¨¡å¼ï¼Œæ”¯æŒä¸‰ç§æ¨¡å¼é€‰æ‹©
- ğŸ“ **é…ç½®æ–‡ä»¶æ¨¡æ¿** - æä¾›.env.exampleæ¨¡æ¿æ–‡ä»¶

### v3.x.x (åˆ†äº«é“¾æ¥ä¸‹è½½)
- æ··åˆä¸‹è½½æ¨¡å¼
- ç½‘é¡µçˆ¬è™«åŠŸèƒ½
- åˆ†äº«é“¾æ¥å¤„ç†

### v2.x.x (åˆ†äº«é“¾æ¥ä¸‹è½½)
- Goç‰ˆæœ¬é‡å†™
- åŸºç¡€ä¸‹è½½åŠŸèƒ½

### v1.x.x (Pythonç‰ˆæœ¬)
- åˆå§‹å®ç°

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ç”¨äºä¸ªäººäº‘ç›˜ç®¡ç†ã€‚è¯·éµå®ˆPikPakçš„æœåŠ¡æ¡æ¬¾ï¼Œä¸è¦ç”¨äºå•†ä¸šç”¨é€”æˆ–è¿åç‰ˆæƒæ³•çš„å†…å®¹ã€‚å¼€å‘è€…ä¸æ‰¿æ‹…ä»»ä½•æ³•å¾‹è´£ä»»ã€‚

## ğŸ™ è‡´è°¢

- [pikpakcli](https://github.com/52funny/pikpakcli) - æ ¸å¿ƒåŠŸèƒ½å‚è€ƒ
- Goè¯­è¨€ç¤¾åŒº - ä¼˜ç§€çš„å¼€å‘å·¥å…·å’Œåº“

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªâ­ï¸ï¼